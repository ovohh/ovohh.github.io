import{ar as h,au as b,as as k,av as I,at as g}from"./axios-CSXYxU2-.js";import{E as V,a as y}from"./el-form-item-Vzqj-XRU.js";import{j as C,r as _,a5 as E,l as S,m as B,n as a,v as p,B as t,Y as r,ab as F,ac as N,ad as R}from"./index-CClR15cq.js";const L=n=>(F("data-v-db9267ab"),n=n(),N(),n),T=L(()=>p("div",{class:"card-header"},[p("span",null,"登录")],-1)),U={class:"box"},j=C({__name:"SignIn",setup(n){const l=_(""),s=_(""),i=()=>{if(l.value===""||s.value===""){alert("账号密码不能为空");return}b.post("http://192.168.31.102:8000/login",{username:l.value,password:s.value},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(e.status===200)if(e.data.code===200){const o=e.data.token.access_token;localStorage.setItem("token",o),k.success("登录成功")}else alert(e.data.msg);else e.status===401?alert("登录失效"):(console.log(e),alert("登录失败"))}).catch(function(e){alert(e),console.log(e)})},f=()=>{l.value="",s.value=""};return(e,o)=>{const m=I,d=V,u=g,v=E("RouterLink"),w=y,x=h;return S(),B(x,{style:{"max-width":"480px"}},{header:a(()=>[T]),default:a(()=>[p("div",U,[t(w,{ref:"ruleFormRef","label-width":"auto",style:{"max-width":"600px"},"status-icon":""},{default:a(()=>[t(d,{label:"用户名：",prop:"username"},{default:a(()=>[t(m,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=c=>l.value=c)},null,8,["modelValue"])]),_:1}),t(d,{label:"登录密码：",prop:"password"},{default:a(()=>[t(m,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=c=>s.value=c),type:"password"},null,8,["modelValue"])]),_:1}),t(d,null,{default:a(()=>[t(u,{type:"primary",onClick:i},{default:a(()=>[r("登录")]),_:1}),t(u,{onClick:f},{default:a(()=>[r("清空")]),_:1}),t(v,{to:"/"},{default:a(()=>[t(u,{type:"primary"},{default:a(()=>[r("返回首页")]),_:1})]),_:1})]),_:1})]),_:1},512)])]),_:1})}}}),z=R(j,[["__scopeId","data-v-db9267ab"]]);export{z as default};
