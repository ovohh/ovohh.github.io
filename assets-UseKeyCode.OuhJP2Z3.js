import{ap as p,as as f,aq as l,at as g,au as a,av as h,ar as y}from"./assets-page.B8l6NlrN.js";import{j as k,r as x,m as v,n as o,l as B,v as s,B as r,Y as V}from"./assets-index.D9M2Ts5B.js";const C=s("div",{class:"card-header"},[s("span",null,"用户续费")],-1),E={id:"userKeycode"},I=k({__name:"UseKeyCode",setup(N){const n=p(),t=x(""),c=()=>{localStorage.getItem("token")?t.value===""?l.error("请输入卡密"):g.post(n.api+"/user_use_keycode",{keycode:t.value},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(function(e){e.data.code===200?a.success({title:"激活成功",message:e.data.msg}):a.error({title:"激活失败",message:e.data.msg})}).catch(function(e){a.error({title:"请求失败",message:e.message})}):l.error("当前未登录，请先登录")};return(d,e)=>{const i=h,u=y,m=f;return B(),v(m,{style:{"max-width":"480px"}},{header:o(()=>[C]),default:o(()=>[s("div",E,[r(i,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=_=>t.value=_),style:{width:"240px"},placeholder:"卡密",maxlength:"25",type:"text",clearable:""},null,8,["modelValue"]),r(u,{type:"primary",onClick:c},{default:o(()=>[V("续费")]),_:1})])]),_:1})}}});export{I as default};
