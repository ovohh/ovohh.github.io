import{ar as x,as as h,au as I,at as g}from"./el-button-BmoOrnbV.js";import{E as V,a as k}from"./el-form-item-BtZdNE8G.js";import{a as E}from"./axios-DTyqpfTh.js";import{j as S,r as m,l as b,m as y,n as a,v as r,B as t,Y as _,ab as C,ac as B,ad as F}from"./index-xvwgfk9M.js";const N=n=>(C("data-v-8ee0dc43"),n=n(),B(),n),T=N(()=>r("div",{class:"card-header"},[r("span",null,"登录")],-1)),U={class:"box"},j=S({__name:"SignIn",setup(n){const l=m(""),s=m(""),i=()=>{if(l.value===""||s.value===""){alert("账号密码不能为空");return}E.post("http://192.168.31.102:8000/login",{username:l.value,password:s.value},{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(e.status===200)if(e.data.code===200){const o=e.data.token.access_token;localStorage.setItem("token",o),h.success("登录成功")}else alert(e.data.msg);else e.status===401?alert("登录失效"):(console.log(e),alert("登录失败"))}).catch(function(e){alert(e),console.log(e)})},f=()=>{l.value="",s.value=""};return(e,o)=>{const u=I,c=V,p=g,v=k,w=x;return b(),y(w,{style:{"max-width":"480px"}},{header:a(()=>[T]),default:a(()=>[r("div",U,[t(v,{ref:"ruleFormRef","label-width":"auto",style:{"max-width":"600px"},"status-icon":""},{default:a(()=>[t(c,{label:"用户名：",prop:"username"},{default:a(()=>[t(u,{modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=d=>l.value=d)},null,8,["modelValue"])]),_:1}),t(c,{label:"登录密码：",prop:"password"},{default:a(()=>[t(u,{modelValue:s.value,"onUpdate:modelValue":o[1]||(o[1]=d=>s.value=d),type:"password"},null,8,["modelValue"])]),_:1}),t(c,null,{default:a(()=>[t(p,{type:"primary",onClick:i},{default:a(()=>[_("登录")]),_:1}),t(p,{onClick:f},{default:a(()=>[_("清空")]),_:1})]),_:1})]),_:1},512)])]),_:1})}}}),z=F(j,[["__scopeId","data-v-8ee0dc43"]]);export{z as default};
